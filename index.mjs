// Copyright (c) 2025 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import s from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@v0.2.1-esm/index.mjs";import e from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@v0.2.2-esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-ndarray-like@v0.2.2-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-unary-reduce-subarray-by@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-any-by@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-spread-dimensions@esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-indices-complement@esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-shape@v0.2.2-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-order@v0.2.2-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-data-buffer@v0.2.2-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-strides@v0.2.2-esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-offset@v0.2.2-esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-empty@v0.3.0-esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-ctor@v0.2.2-esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/strided-base-reinterpret-boolean@v0.0.2-esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-take-indexed@v0.2.2-esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-zero-to@v0.2.1-esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/object-assign@v0.2.2-esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.2.2-esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@v0.2.2-esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@v0.2.2-esm/index.mjs";import{isPrimitive as x}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-boolean@v0.2.2-esm/index.mjs";import{primitives as w}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-integer-array@v0.2.2-esm/index.mjs";import E from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-empty-collection@v0.2.2-esm/index.mjs";import T from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-to-unique-normalized-indices@esm/index.mjs";import k from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-join@v0.1.1-esm/index.mjs";import N from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-ndims@v0.2.2-esm/index.mjs";var O={dims:null,keepdims:!1};function z(s,e,r){var i;if(!y(r))return new TypeError(u("null2V",r));if(g(r,"keepdims")&&(s.keepdims=r.keepdims,!x(s.keepdims)))return new TypeError(u("null2o","keepdims",s.keepdims));if(g(r,"dims")){if(s.dims=r.dims,!w(s.dims)&&!E(s.dims))return new TypeError(u("invalid option. `%s` option must be an array of integers. Option: `%s`.","dims",s.dims));if(null===(i=T(s.dims,e-1)))return new RangeError(u("invalid option. `%s` option contains an out-of-bounds dimension index. Option: [%s].","dims",k(s.dims,",")));if(i.length!==s.dims.length)return new Error(u("invalid option. `%s` option contains duplicate indices. Option: [%s].","dims",k(s.dims,",")));s.dims=i}return null}function V(s,y,g,x){var w,E,T,k,N,V,q,H,R,S,A,B,C,D;if(w=arguments.length,!r(s))throw new TypeError(u("null5t",s));if(w<3){if(!e(y))throw new TypeError(u("null2H",y));A=y}else if(w>3){if(S=!0,D=y,!e(A=g))throw new TypeError(u("null3N",A));k=x}else if(e(y))A=y,k=g;else{if(!e(g))throw new TypeError(u("null3N",g));S=!0,D=y,A=g}if(B=(q=m(s)).length,E=c({},O),S&&(N=z(E,B,D)))throw N;return null===E.dims&&(E.dims=b(B)),V=d(B,E.dims),H=v(q,V),R=o(s),C=j(H,{dtype:"bool",order:R}),T=new h("uint8",f(l(C),0),H,a(C,!1),p(C),o(C)),i(t,[s,T],E.dims,A,k),E.keepdims&&(C=n(B,C,V,!0)),C}function q(s,n,d,m,o){var l,a,p,j,h,f,v,y;if(l=arguments.length,!r(s))throw new TypeError(u("null5t",s));if(!r(n))throw new TypeError(u("invalid argument. Second argument must be an ndarray-like object. Value: `%s`.",n));if(l<4){if(!e(f=d))throw new TypeError(u("null3N",f))}else if(l>4){if(j=!0,y=d,!e(f=m))throw new TypeError(u("null32",f));h=o}else if(e(d))f=d,h=m;else{if(!e(m))throw new TypeError(u("null32",m));j=!0,y=d,f=m}if(v=N(s),a=c({},O),j&&(p=z(a,v,y)))throw p;return null===a.dims&&(a.dims=b(v)),i(t,[s,n],a.dims,f,h),n}s(V,"assign",q);export{q as assign,V as default};
//# sourceMappingURL=index.mjs.map
